# Σύστημα Θερμομόνωσης - Τεκμηρίωση Τύπων Υπολογισμών

Αυτό το έγγραφο παρέχει εκτενή τεκμηρίωση όλων των υπολογισμών που χρησιμοποιούνται στο Σύστημα Θερμομόνωσης για Εξωτερικούς Τοίχους στο Εργαλείο Διαχείρισης Ενέργειας Κτιρίων (BEMAT).

## Πίνακας Περιεχομένων

1. [Υπολογισμοί Θερμικής Αντίστασης](#υπολογισμοί-θερμικής-αντίστασης)
2. [Υπολογισμοί Συντελεστή U (Θερμικής Διαπερατότητας)](#υπολογισμοί-συντελεστή-u-θερμικής-διαπερατότητας)
3. [Υπολογισμοί Θερμικών Απωλειών](#υπολογισμοί-θερμικών-απωλειών)
4. [Υπολογισμοί Επιφάνειας](#υπολογισμοί-επιφάνειας)
5. [Υπολογισμοί Κόστους](#υπολογισμοί-κόστους)
6. [Υπολογισμοί Ετήσιου Ενεργειακού Οφέλους](#υπολογισμοί-ετήσιου-ενεργειακού-οφέλους)
7. [Υπολογισμοί Οικονομικής Ανάλυσης](#υπολογισμοί-οικονομικής-ανάλυσης)
8. [Σταθερές και Παράμετροι](#σταθερές-και-παράμετροι)
9. [Σημειώσεις και Βέλτιστες Πρακτικές](#σημειώσεις-και-βέλτιστες-πρακτικές)

---

## Υπολογισμοί Θερμικής Αντίστασης

### Θερμική Αντίσταση Μεμονωμένου Υλικού (R)

**Τύπος:**

```
R = d / λ
```

**Όπου:**

- `R` = Θερμική αντίσταση (m²K/W)
- `d` = Πάχος υλικού (m)
- `λ` = Θερμική αγωγιμότητα υλικού (W/mK)

**Υλοποίηση:**

- **Backend:** Αυτόματα υπολογιζόμενη ιδιότητα στα μοντέλα θερμομόνωσης
- **Frontend:** Υπολογισμός σε πραγματικό χρόνο κατά την εισαγωγή δεδομένων

### Συνολική Θερμική Αντίσταση (R_total)

**Τύπος:**

```
R_total = R_si + R_se + ΣR_materials
```

**Όπου:**

- `R_si` = Εσωτερική επιφανειακή αντίσταση = 0.13 m²K/W
- `R_se` = Εξωτερική επιφανειακή αντίσταση = 0.04 m²K/W
- `ΣR_materials` = Άθροισμα θερμικών αντιστάσεων όλων των στρωμάτων υλικών

**Υλοποίηση:**

- **Backend:** Χρησιμοποιείται στη μέθοδο `calculate_u_coefficient()`
- **Frontend:** Συνάρτηση `calculateRTotal(materials)`

---

## Υπολογισμοί Συντελεστή U (Θερμικής Διαπερατότητας)

### Υπολογισμός Συντελεστή U

**Τύπος:**

```
U = 1 / R_total
```

**Όπου:**

- `U` = Συντελεστής θερμικής διαπερατότητας (W/m²K)
- `R_total` = Συνολική θερμική αντίσταση (m²K/W)

**Σημαντικές Σημειώσεις:**

- Ο συντελεστής U υπολογίζεται **ΜΟΝΟ για ΝΕΑ υλικά** στο backend
- Χαμηλότερες τιμές U δείχνουν καλύτερη μονωτική απόδοση
- Αν R_total ≤ 0, ο συντελεστής U εξ' ορισμού γίνεται 0

**Υλοποίηση:**

- **Backend:** Μέθοδος `ExternalWallThermalInsulation.calculate_u_coefficient()`
- **Frontend:** Συνάρτηση `calculateUCoefficient(materials)`

---

## Υπολογισμοί Θερμικών Απωλειών

### Ωριαίες Θερμικές Απώλειες

**Τύπος:**

```
Q = (U × A × ΔT) / 1000
```

**Όπου:**

- `Q` = Ωριαίες θερμικές απώλειες (kW)
- `U` = Συντελεστής θερμικής διαπερατότητας (W/m²K)
- `A` = Συνολική επιφάνεια (m²)
- `ΔT` = Διαφορά θερμοκρασίας (K ή °C)
- Διαίρεση με 1000 μετατρέπει W σε kW

### Διαφορές Θερμοκρασίας που Χρησιμοποιούνται

| Εποχή     | Διαφορά Θερμοκρασίας (ΔT) | Χρήση                   |
| --------- | ------------------------- | ----------------------- |
| Χειμώνας  | 72°C                      | Υπολογισμοί θέρμανσης   |
| Καλοκαίρι | 12.5°C                    | Υπολογισμοί κλιματισμού |

### Χειμερινές Ωριαίες Απώλειες

**Υλοποίηση:**

- **Backend:** Βοηθητική μέθοδος `_calculate_hourly_losses(materials, 72)`
- **Frontend:** Συνάρτηση `calculateWinterHourlyLosses(materials)`

### Καλοκαιρινές Ωριαίες Απώλειες

**Υλοποίηση:**

- **Backend:** Βοηθητική μέθοδος `_calculate_hourly_losses(materials, 12.5)`
- **Frontend:** Συνάρτηση `calculateSummerHourlyLosses(materials)`

---

## Υπολογισμοί Επιφάνειας

### Συνολική Επιφάνεια

**Τύπος:**

```
A_total = ΣA_materials
```

**Όπου:**

- `A_total` = Συνολική επιφάνεια (m²)
- `A_materials` = Επιφάνεια κάθε στρώματος υλικού (m²)

**Υλοποίηση:**

- **Frontend:** Συνάρτηση `calculateTotalSurfaceArea(materials)`

---

## Υπολογισμοί Κόστους

### Συνολικό Κόστος Υλικών

**Τύπος:**

```
C_total = ΣC_materials
```

**Όπου:**

- `C_total` = Συνολικό κόστος (€)
- `C_materials` = Κόστος κάθε στρώματος υλικού (€)

**Σημαντικές Σημειώσεις:**

- Ο υπολογισμός κόστους εφαρμόζεται **ΜΟΝΟ στα ΝΕΑ υλικά**
- Τα παλιά υλικά δεν έχουν στήλη κόστους στη διεπαφή
- Το πεδίο συνολικού κόστους είναι μόνο για ανάγνωση και υπολογίζεται αυτόματα
- **Υπολογίζεται αυτόματα από το άθροισμα των κοστών των νέων υλικών**

**Υλοποίηση:**

- **Frontend:** Συνάρτηση `calculateTotalCost(materials)`

---

## Υπολογισμοί Ετήσιου Ενεργειακού Οφέλους

### Ετήσια Ενεργειακή Εξοικονόμηση

**Τύπος:**

```
Annual_Energy_Savings = (ΔQ_winter × Hours_cooling) + (ΔQ_summer × Hours_heating)
```

**Όπου:**

- `ΔQ_winter` = Διαφορά χειμερινών ωριαίων απωλειών μεταξύ παλιών και νέων υλικών (kW)
- `ΔQ_summer` = Διαφορά καλοκαιρινών ωριαίων απωλειών μεταξύ παλιών και νέων υλικών (kW)
- `Hours_cooling` = Ώρες κλιματισμού ανά έτος
- `Hours_heating` = Ώρες θέρμανσης ανά έτος

### Υπολογισμός Ετήσιου Οφέλους

**Τύπος:**

```
Annual_Benefit = Annual_Energy_Savings × Electricity_Cost_per_kWh
```

**Όπου:**

- `Annual_Benefit` = Ετήσια εξοικονόμηση κόστους ενέργειας (€/έτος)
- `Annual_Energy_Savings` = Συνολική ενεργειακή εξοικονόμηση (kWh/έτος)
- `Electricity_Cost_per_kWh` = Κόστος ηλεκτρικής ενέργειας έργου (€/kWh)

**Σημαντικές Σημειώσεις:**

- Το ετήσιο όφελος υπολογίζεται αυτόματα και είναι μόνο για ανάγνωση
- Ο τύπος εξασφαλίζει ενεργειακή εξοικονόμηση (τα παλιά υλικά πρέπει να έχουν μεγαλύτερες απώλειες από τα νέα)
- Ελάχιστη τιμή είναι 0 (περιορισμός μη αρνητικής τιμής)
- **Υπολογίζεται αυτόματα βάσει διαφοράς απωλειών, ωρών λειτουργίας και κόστους ρεύματος**

**Υλοποίηση:**

- **Backend:** Μέθοδος `calculate_annual_benefit()` (αυτόματος υπολογισμός κατά την αποθήκευση)
- **Frontend:** Συνάρτηση `calculateAnnualBenefit()` (σκοποί εμφάνισης)

---

## Υπολογισμοί Οικονομικής Ανάλυσης

### Καθαρή Παρούσα Αξία (NPV)

**Τύπος:**

```
NPV = -Initial_Investment + Σ(Annual_Net_Benefit / (1 + discount_rate)^year)
```

**Όπου:**

- `Initial_Investment` = Συνολικό κόστος υλικών και εγκατάστασης (€)
- `Annual_Net_Benefit` = Ετήσιο όφελος - Ετήσια λειτουργικά κόστη (€/έτος)
- `discount_rate` = Προεξοφλητικό επιτόκιο ως δεκαδικός (π.χ., 5% = 0.05)
- `year` = Κάθε έτος από 1 έως time_period_years

**Υλοποίηση:**

- **Backend:** Μέθοδος `calculate_npv()`

---

## Σταθερές και Παράμετροι

### Επιφανειακές Αντιστάσεις

| Παράμετρος | Τιμή | Μονάδα | Περιγραφή                       |
| ---------- | ---- | ------ | ------------------------------- |
| R_si       | 0.13 | m²K/W  | Εσωτερική επιφανειακή αντίσταση |
| R_se       | 0.04 | m²K/W  | Εξωτερική επιφανειακή αντίσταση |

### Διαφορές Θερμοκρασίας

| Παράμετρος | Τιμή | Μονάδα | Περιγραφή                                    |
| ---------- | ---- | ------ | -------------------------------------------- |
| ΔT_winter  | 72   | °C     | Χειμερινή διαφορά θερμοκρασίας θέρμανσης     |
| ΔT_summer  | 12.5 | °C     | Καλοκαιρινή διαφορά θερμοκρασίας κλιματισμού |

### Προεπιλεγμένες Τιμές

| Παράμετρος             | Προεπιλεγμένη Τιμή | Μονάδα | Περιγραφή                              |
| ---------------------- | ------------------ | ------ | -------------------------------------- |
| Χρονική Περίοδος       | 20                 | έτη    | Περίοδος αξιολόγησης επένδυσης         |
| Προεξοφλητικό Επιτόκιο | 5                  | %      | Προεξοφλητικό επιτόκιο υπολογισμού NPV |
| Ελάχιστες Ώρες         | 0                  | ώρες   | Ελάχιστες ώρες θέρμανσης/κλιματισμού   |
| Μέγιστες Ώρες          | 8760               | ώρες   | Μέγιστες ώρες ανά έτος                 |

### Τύποι Επιφανειών

- **Κύριος:** "Εξωτερικοί τοίχοι σε επαφή με τον εξωτερικό αέρα" (Εξωτερικοί τοίχοι σε επαφή με εξωτερικό αέρα)
- **Άλλες επιλογές:** Εσωτερικός, Εξωτερικός, Ενδιάμεσος (υποστήριξη παλαιών εκδόσεων)

---

## Ροή Υπολογισμών

### Διαδικασία Προσθήκης/Ενημέρωσης Υλικών

1. **Εισαγωγή Ιδιοτήτων Υλικού:**

   - Επιλογή υλικού (θερμική αγωγιμότητα λ)
   - Πάχος (d)
   - Επιφάνεια (A)
   - Κόστος (μόνο για νέα υλικά)

2. **Αυτόματοι Υπολογισμοί:**

   - Μεμονωμένη θερμική αντίσταση: R = d/λ
   - Συνολική θερμική αντίσταση: R_total = R_si + R_se + ΣR_materials
   - Συντελεστής U: U = 1/R_total
   - Ωριαίες απώλειες: Q = (U × A × ΔT) / 1000

3. **Οικονομικοί Υπολογισμοί:**
   - Συνολικό κόστος (μόνο νέα υλικά)
   - Ετήσια ενεργειακή εξοικονόμηση
   - Ετήσιο όφελος
   - Καθαρή Παρούσα Αξία (NPV)

### Ενεργοποιητές Αυτόματου Υπολογισμού

- **Frontend:** Υπολογισμοί σε πραγματικό χρόνο κατά την εισαγωγή δεδομένων
- **Backend:** Αυτόματος επανυπολογισμός κατά την αποθήκευση μοντέλου
- **Πεδία που υπολογίζονται αυτόματα:** Συντελεστής U, Ετήσιο όφελος, NPV, Συνολικό κόστος

---

## Σημειώσεις και Βέλτιστες Πρακτικές

1. **Διάκριση Τύπου Υλικού:**

   - **Διαχείριση παλιών και νέων υλικών θερμομόνωσης**
   - Παλιά υλικά: Χρησιμοποιούνται για βασική ενεργειακή απόδοση
   - Νέα υλικά: Χρησιμοποιούνται για βελτιωμένη ενεργειακή απόδοση με ανάλυση κόστους

2. **Επικύρωση Δεδομένων:**

   - Η θερμική αγωγιμότητα πρέπει να είναι > 0
   - Το πάχος και η επιφάνεια πρέπει να είναι > 0
   - Ώρες ανά έτος: 0 ≤ ώρες ≤ 8760

3. **Συνέπεια Μονάδων:**

   - Όλοι οι θερμικοί υπολογισμοί χρησιμοποιούν μονάδες SI
   - Μετατροπές ισχύος: W → kW (÷1000)
   - Οικονομικοί υπολογισμοί σε Ευρώ (€)

4. **Βελτιστοποίηση Απόδοσης:**
   - Υπολογισμοί frontend για άμεση ανταπόκριση
   - Υπολογισμοί backend για διατήρηση δεδομένων
   - Υπολογισμοί ενεργοποιούνται μόνο όταν είναι διαθέσιμα τα απαραίτητα δεδομένα

---

_Αυτή η τεκμηρίωση καλύπτει όλους τους τύπους υπολογισμών που χρησιμοποιούνται στο Σύστημα Θερμομόνωσης βάσει της τρέχουσας υλοποίησης. Για τεχνικές λεπτομέρειες υλοποίησης, ανατρέξτε στον πηγαίο κώδικα στα αντίστοιχα μοντέλα backend και στοιχεία frontend._
